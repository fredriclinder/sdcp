 create database sdcp;
create user 'sdcp'@'localhost' identified by 'sdcp';
grant all on sdcp.* to 'sdcp';
use sdcp;

DROP TABLE IF EXISTS `consoles`;
CREATE TABLE `consoles` (
  `id` int(10) unsigned NOT NULL AUTO_INCREMENT,
  `name` varchar(20) DEFAULT NULL,
  `ip` int(10) unsigned DEFAULT 2130706433,
  PRIMARY KEY (`id`)
) ENGINE=InnoDB AUTO_INCREMENT=3 DEFAULT CHARSET=latin1;

DROP TABLE IF EXISTS `pdus`;
CREATE TABLE `pdus` (
  `id` int(10) unsigned NOT NULL AUTO_INCREMENT,
  `name` varchar(20) DEFAULT NULL,
  `ip` int(10) unsigned DEFAULT NULL,
  `first_slot_name` varchar(10) NOT NULL DEFAULT 'unknown',
  `second_slot_name` varchar(10) NOT NULL DEFAULT 'unknown',
  `second_slot_id` int(10) unsigned NOT NULL DEFAULT 0,
  `first_slot_id` int(10) unsigned NOT NULL DEFAULT 0,
  `slots` int(10) tinyint(1) NOT NULL DEFAULT 1,
  PRIMARY KEY (`id`)
) ENGINE=InnoDB AUTO_INCREMENT=6 DEFAULT CHARSET=latin1;
                  
DROP TABLE IF EXISTS `racks`;
CREATE TABLE `racks` (
  `id` int(10) unsigned NOT NULL AUTO_INCREMENT,
  `name` varchar(20) DEFAULT NULL,
  `size` int(10) unsigned DEFAULT NULL,
  `fk_console` int(10) unsigned DEFAULT NULL,
  `fk_pdu_1` int(10) unsigned DEFAULT NULL,
  `fk_pdu_2` int(10) unsigned DEFAULT NULL,
  PRIMARY KEY (`id`)
) ENGINE=InnoDB AUTO_INCREMENT=5 DEFAULT CHARSET=latin1;

DROP TABLE IF EXISTS `devices`;
CREATE TABLE `devices` (
  `id` int(10) unsigned NOT NULL AUTO_INCREMENT,
  `ip` int(10) unsigned NOT NULL,
  `console_id` int(10) unsigned DEFAULT 0,
  `consoleport` int(10) unsigned DEFAULT NULL,
  `dns_id` int(10) unsigned DEFAULT 0,
  `hostname` varchar(20) DEFAULT NULL,
  `domain` varchar(20) DEFAULT NULL,
  `fqdn` varchar(20) DEFAULT NULL,
  `graphed` varchar(3) DEFAULT 'no',
  `ipam_id` int(10) unsigned DEFAULT 0,
  `model` varchar(20) DEFAULT NULL,
  `pwr_left_pdu_id` int(10) unsigned DEFAULT 0,
  `pwr_left_pdu_unit` int(10) unsigned DEFAULT 0,
  `pwr_left_pdu_slot` varchar(4) DEFAULT NULL,
  `pwr_right_pdu_id` int(10) unsigned DEFAULT 0,
  `pwr_right_pdu_unit` int(10) unsigned DEFAULT 0,
  `pwr_right_pdu_slot` varchar(4) DEFAULT NULL,
  `rack_id` int(10) unsigned DEFAULT 0,
  `rack_unit` int(10) DEFAULT 0,
  `type` varchar(20),
  `snmp` varchar(20),
  PRIMARY KEY (`id`)
) ENGINE=InnoDB DEFAULT CHARSET=latin1;
